type: agent
name: nexau_code_agent
max_context_tokens: 200000
system_prompt: ./nexau-gemini-cli-systemprompt.md
system_prompt_type: jinja
tool_call_mode: openai # xml, openai or anthorpic
llm_config: # Support environment variable replacement in YAML config
  model: ${env.LLM_MODEL}
  base_url: ${env.LLM_BASE_URL}
  api_key: ${env.LLM_API_KEY}
  temperature: 0.7
  stream: False
  api_type: openai_chat_completion # support openai_chat_completion (default), openai_responses (especially for gpt-5-codex), anthropic_chat_completion
tools: # Tool definition and implementation (binding) are decoupled
  # File operations - read_file, write_file, replace
  - name: read_file
    yaml_path: ./tools/read_file.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.file_read_tool:file_read_tool
  - name: write_file
    yaml_path: ./tools/write_file.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.file_write_tool:file_write_tool
  - name: replace
    yaml_path: ./tools/replace.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.file_edit_tool:file_edit_tool
  # Search and navigation - search_file_content, glob, list_directory
  - name: search_file_content
    yaml_path: ./tools/search_file_content.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.grep_tool:grep_tool
  - name: glob
    yaml_path: ./tools/glob.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.glob_tool:glob_tool
  - name: list_directory
    yaml_path: ./tools/list_directory.tool.yaml
    binding: nexau.archs.tool.builtin.ls_tool:ls_tool
  # Shell command
  - name: run_shell_command
    yaml_path: ./tools/run_shell_command.tool.yaml
    binding: nexau.archs.tool.builtin.bash_tool:bash_tool
  # Web tools - google_web_search, web_fetch
  - name: google_web_search
    yaml_path: ./tools/google_web_search.tool.yaml
    binding: nexau.archs.tool.builtin.web_tool:web_search
  - name: web_fetch
    yaml_path: ./tools/web_fetch.tool.yaml
    binding: nexau.archs.tool.builtin.web_tool:web_read
  # Memory and user interaction
  - name: save_memory
    yaml_path: ./tools/save_memory.tool.yaml
    binding: nexau.archs.tool.builtin.memory_tool:save_memory
  - name: ask_user
    yaml_path: ./tools/ask_user.tool.yaml
    binding: nexau.archs.tool.builtin.ask_user_tool:ask_user
  # Skill management
  - name: activate_skill
    yaml_path: ./tools/activate_skill.tool.yaml
    binding: nexau.archs.tool.builtin.skill_tool:activate_skill
  # Task management
  - name: write_todos
    yaml_path: ./tools/write_todos.tool.yaml
    binding: nexau.archs.tool.builtin.todo_tool:write_todos
  # Batch file reading
  - name: read_many_files
    yaml_path: ./tools/read_many_files.tool.yaml
    binding: nexau.archs.tool.builtin.file_tools.read_many_files_tool:read_many_files
tracers:
  - import: nexau.archs.tracer.adapters.in_memory:InMemoryTracer
